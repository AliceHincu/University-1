#!/usr/local/bin/bash

if [ ! $# -eq 1 ]; then
	echo "Invalid parameters" >& 2
	exit 1
fi

if [ -z "$1" ]; then
	echo "Invalid file" >& 2
	exit 1
fi

file=$(cat "$1" | awk '{print $1}')
first=0
echo "$file"
stringMail=""
while read userName; do
	if [ ! $first -eq 0 ]; then
		stringMail="${stringMail},"
	fi
	stringMail="${stringMail}""$userName""@scs.ubbcluj.ro"
	first=$(($first + 1))
done <<< "$file"

echo "$stringMail"
